/* ==========================================================================
   Global.css — AutoMinds Africa (HOME-SAFE / NO PAGE LEAKS) ✅ UPDATED
   Goals:
   - Dark canvas is ALWAYS the baseline (no white flash on mobile/routes)
   - Keep optional light mode via html[data-theme="light"]
   - KEEP design tokens + typography + utilities
   - FIX "phone issue" by stopping Global.css from styling page-specific classes
     (REMOVED global .contact-form coupling + moved inputs to opt-in wrappers)

   IMPORTANT:
   - Global styles ONLY touch: html/body/#root + generic elements + OPT-IN classes.
   - Pages (Contact/Services/etc.) own their own layout + component classes.
   ========================================================================== */

/* 0) Reset / base */
*, *::before, *::after { box-sizing: border-box; }
html { -webkit-text-size-adjust: 100%; }
body, h1,h2,h3,h4,h5,h6, p, figure, blockquote, dl, dd { margin: 0; }
ul[role='list'], ol[role='list'] { list-style: none; margin: 0; padding: 0; }
img, picture, video, canvas, svg { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
:focus:not(:focus-visible) { outline: none; }

/* 1) Tokens — DARK DEFAULT (prevents white flash / white routes) */
:root{
  --brand-orange:#ff9800;
  --brand-gold:#ffd43b;
  --brand-blue:#153e75;

  /* Dark default */
  --bg:#0b1220;
  --card:#0f172a;
  --ink:#e7ecf3;
  --ink-weak:#b8c3d6;

  --border: rgba(255,255,255,0.10);
  --shadow-sm: 0 6px 18px rgba(0,0,0,.40);
  --shadow-md: 0 10px 24px rgba(0,0,0,.52);

  --radius-1: 6px;
  --radius-2: 10px;
  --radius-3: 14px;
  --radius-4: 20px;

  --container: min(1200px, 92vw);

  --fs-1: clamp(1.6rem, 4.5vw, 2.6rem);
  --fs-2: clamp(1.2rem, 3vw, 1.6rem);
  --fs-3: clamp(1.05rem, 2.4vw, 1.25rem);
  --fs-body: 1rem;

  --ease: cubic-bezier(.2,.7,.2,1);

  /* Focus ring */
  --ring: 3px solid rgba(255, 212, 59, 0.75);

  /* Alias tokens (keep index.css + older rules consistent) */
  --app-bg: var(--bg);
  --app-fg: var(--ink);
}

/* 1b) Optional LIGHT THEME (only if explicitly enabled) */
html[data-theme="light"]{
  --bg:#f7fafc;
  --card:#ffffff;
  --ink:#2d3748;
  --ink-weak:#4b5670;

  --border:#e6edf5;
  --shadow-sm: 0 1px 8px rgba(0,0,0,.08);
  --shadow-md: 0 2px 16px rgba(0,0,0,.10);

  --ring: 3px solid rgba(246, 173, 27, 0.65);

  --app-bg: var(--bg);
  --app-fg: var(--ink);
}

/* 2) Body / page shell — TRUE DARK CANVAS (mobile safe) */
html, body { height: 100%; }

html{
  color-scheme: dark;
  background: var(--bg);   /* prevents white canvas behind body */
  color: var(--ink);
}
html[data-theme="light"]{
  color-scheme: light;
  background: var(--bg);
  color: var(--ink);
}

body{
  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
  background: var(--bg);
  color: var(--ink);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* prevents "white body" on route transitions */
  min-height: 100vh;

  /* optional: helps some mobile browsers feel less "bouncy" */
  overscroll-behavior-y: none;
}

/* Root layout — ALWAYS paints background even if route is empty */
#root{
  min-height: 100%;
  display: grid;
  grid-template-rows: auto 1fr auto;
  background: var(--bg);
  color: var(--ink);
}

/* 3) Container + content area */
.content{
  width: var(--container);
  margin-inline: auto;
  padding: 2rem 1rem;
  min-height: 70svh;
}
.container{
  width: var(--container);
  margin-inline: auto;
  padding-inline: 1rem;
}

/* 4) Typography defaults (safe) */
h1{ font-size: var(--fs-1); font-weight: 900; line-height: 1.15; color: var(--ink); }
h2{ font-size: var(--fs-2); font-weight: 900; line-height: 1.2;  color: var(--ink); }
h3{ font-size: var(--fs-3); font-weight: 800; line-height: 1.25; color: var(--ink); }
p { font-size: var(--fs-body); color: var(--ink); }
small{ font-size: .9rem; color: var(--ink-weak); }

/* 5) Links / buttons (global baseline) */
a{
  color: #8fb6ff;
  text-decoration: underline;
  text-underline-offset: .15em;
}
html[data-theme="light"] a{ color: var(--brand-blue); }
a:hover{ color: var(--brand-orange); }

:where(.btn, .cta-btn){
  display: inline-block;
  background: linear-gradient(180deg, #ffd89a, #ffb25a);
  color: #11203a;
  border: 1px solid rgba(255, 152, 0, 0.35);
  border-radius: 999px;
  padding: .7em 1.6em;
  font-weight: 800;
  font-size: 1.05rem;
  text-decoration: none;
  box-shadow: 0 10px 24px rgba(0,0,0,.18);
  transition: transform .18s var(--ease), box-shadow .18s var(--ease), filter .18s var(--ease);
  outline-offset: 3px;
}
:where(.btn, .cta-btn):hover{
  transform: translateY(-2px);
  filter: brightness(1.02);
  box-shadow: 0 14px 30px rgba(0,0,0,.26);
}
:where(.btn, .cta-btn):focus-visible{ outline: var(--ring); }
:where(.btn, .cta-btn).pulse{ animation: pulse 2.2s infinite; }

@keyframes pulse{
  0%{ box-shadow: 0 0 0 0 rgba(255,212,59,.32); }
  70%{ box-shadow: 0 0 0 16px rgba(255,212,59,0); }
  100%{ box-shadow: 0 0 0 0 rgba(255,212,59,0); }
}

/* 6) Footer baseline (safe fallback)
   NOTE: This is still global by design. If a page needs a custom footer,
   style it with a wrapper class in that page. */
footer{
  background: #0f2f64;
  color: #fff;
  padding: 2rem 1rem;
  text-align: center;
  margin-top: 3rem;
}
footer a{ color: #ffd86b; text-decoration: underline; }
footer a:hover{ color: #fff; }

/* 7) Cards / surfaces (OPT-IN utilities) */
.card-base{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-3);
  box-shadow: var(--shadow-sm);
}

.glassy-card{
  background: rgba(15, 23, 42, 0.78);
  backdrop-filter: blur(12px) saturate(1.15);
  border: 1px solid rgba(255, 212, 59, 0.14);
  border-radius: 17px;
  box-shadow: var(--shadow-sm);
  padding: 2rem;
}
html[data-theme="light"] .glassy-card{
  background: rgba(255,255,255,.88);
  border: 1px solid rgba(21,62,117,0.14);
  box-shadow: 0 3px 32px rgba(21,62,117,.14), 0 2px 18px rgba(255,152,0,.14);
}

/* 8) Forms (GLOBAL BASELINE) — OPT-IN ONLY ✅
   FIX: Removed ".contact-form" from global CSS to stop page leaks.
   Use .form or .form-surface on components that want global form styling. */

.form,
.form-surface{
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-3);
  box-shadow: var(--shadow-sm);
  padding: 1.25rem;
}

.form .field,
.form-surface .field{
  display: grid;
  gap: 6px;
}

/* Inputs ONLY inside .form/.form-surface (prevents overriding page-specific forms) */
.form :is(input[type="text"], input[type="email"], input[type="tel"], textarea, select),
.form-surface :is(input[type="text"], input[type="email"], input[type="tel"], textarea, select){
  width: 100%;
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 10px;
  padding: .7em .9em;
  font-size: 1rem;
  background: rgba(255,255,255,0.06);
  color: var(--ink);
  transition: border-color .16s var(--ease), box-shadow .16s var(--ease), background .16s var(--ease);
}

html[data-theme="light"] .form :is(input[type="text"], input[type="email"], input[type="tel"], textarea, select),
html[data-theme="light"] .form-surface :is(input[type="text"], input[type="email"], input[type="tel"], textarea, select){
  border: 1px solid #d8dee9;
  background: #f7fafd;
  color: #0b0f1a;
}

.form textarea,
.form-surface textarea{
  resize: vertical;
  min-height: 120px;
}

.form :is(input, textarea, select):focus,
.form-surface :is(input, textarea, select):focus{
  outline: none;
  border-color: rgba(255, 212, 59, 0.55);
  box-shadow: 0 0 0 3px rgba(255, 212, 59, 0.20);
  background: rgba(255,255,255,0.08);
}

html[data-theme="light"] .form :is(input, textarea, select):focus,
html[data-theme="light"] .form-surface :is(input, textarea, select):focus{
  background: #fff;
}

/* 9) Utilities */
.sr-only{
  position:absolute!important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}
.skip-link{
  position:absolute; left:-9999px; top:auto;
  width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:fixed; left:12px; top:12px;
  width:auto; height:auto;
  padding:8px 12px;
  background:#000; color:#fff;
  border-radius:8px;
  z-index:10000;
}
.u-center{ display:grid; place-items:center; }
.u-muted{ color: var(--ink-weak); }
.u-shadow-sm{ box-shadow: var(--shadow-sm); }
.u-shadow-md{ box-shadow: var(--shadow-md); }

/* 10) Selections / focus */
::selection{ background: rgba(255,152,0,.35); color: #10223a; }

/* 11) Responsive helpers */
@media (max-width: 900px){
  .content{ padding: 1.4rem .8rem; }
}
@media (max-width: 600px){
  .content{ padding: 1rem .7rem; }
}

/* 12) Reduced motion */
@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{
    animation-duration: .001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0s !important;
    scroll-behavior: auto !important;
  }
}
